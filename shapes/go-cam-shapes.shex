BASE   <http://purl.obolibrary.org/obo/go/shapes/>
PREFIX obo: <http://purl.obolibrary.org/obo/>
PREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
#metadata
PREFIX bl: <https://w3id.org/biolink/vocab/>
PREFIX contributor: <http://purl.org/dc/elements/1.1/contributor>
PREFIX provided_by: <http://purl.org/pav/providedBy>
PREFIX date: <http://purl.org/dc/elements/1.1/date>
PREFIX xref: <http://www.geneontology.org/formats/oboInOwl#hasDbXref>
PREFIX exact_match: <http://www.w3.org/2004/02/skos/core#exactMatch>
#semantic: classes
PREFIX GoProtein: <http://purl.obolibrary.org/obo/CHEBI_36080>
PREFIX GoCellularComponent: <http://purl.obolibrary.org/obo/GO_0005575>
PREFIX GoBiologicalProcess: <http://purl.obolibrary.org/obo/GO_0008150>
PREFIX GoMolecularFunction: <http://purl.obolibrary.org/obo/GO_0003674>
PREFIX GoGene: <http://purl.obolibrary.org/obo/CHEBI_33695>
PREFIX GoMolecularEntity: <http://purl.obolibrary.org/obo/CHEBI_23367>
PREFIX GoChemicalEntity: <http://purl.obolibrary.org/obo/CHEBI_24431>
PREFIX GoEvidence: <http://purl.obolibrary.org/obo/ECO_0000000>
PREFIX GoComplex: <http://purl.obolibrary.org/obo/GO_0032991>
PREFIX GoAnatomicalEntity: <http://purl.obolibrary.org/obo/UBERON_0001062>
PREFIX GoGrossAnatomicalEntity: <http://purl.obolibrary.org/obo/UBERON_0001062>
PREFIX GoOrganism: <http://purl.obolibrary.org/obo/NCBITaxon_1>
PREFIX GoCell:  <http://purl.obolibrary.org/obo/CL_0000000>
PREFIX GoBiologicalPhase: <http://purl.obolibrary.org/obo/GO_0044848>
#semantic: relations
PREFIX part_of: <http://purl.obolibrary.org/obo/BFO_0000050>
PREFIX occurs_in: <http://purl.obolibrary.org/obo/BFO_0000066>
PREFIX enabled_by: <http://purl.obolibrary.org/obo/RO_0002333>
PREFIX has_input: <http://purl.obolibrary.org/obo/RO_0002233>
PREFIX has_output: <http://purl.obolibrary.org/obo/RO_0002234>
PREFIX directly_provides_input_for: <http://purl.obolibrary.org/obo/RO_0002413>
PREFIX directly_positively_regulates: <http://purl.obolibrary.org/obo/RO_0002629>
PREFIX located_in: <http://purl.obolibrary.org/obo/RO_0001025>
PREFIX happens_during: <http://purl.obolibrary.org/obo/RO_0002092>
PREFIX regulates: <http://purl.obolibrary.org/obo/RO_0002211>
PREFIX negatively_regulates: <http://purl.obolibrary.org/obo/RO_0002212>
PREFIX positively_regulates: <http://purl.obolibrary.org/obo/RO_0002213>
PREFIX directly_regulates: <http://purl.obolibrary.org/obo/RO_0002578>
PREFIX directly_negatively_regulates: <http://purl.obolibrary.org/obo/RO_0002630>
PREFIX directly_positively_regulates: <http://purl.obolibrary.org/obo/RO_0002406>
PREFIX causally_upstream_of_or_within: <http://purl.obolibrary.org/obo/RO_0002418>
PREFIX causally_upstream_of_or_within_negative_effect: <http://purl.obolibrary.org/obo/RO_0004046>
PREFIX causally_upstream_of_or_within_positive_effect: <http://purl.obolibrary.org/obo/RO_0004047>
PREFIX causally_upstream_of: <http://purl.obolibrary.org/obo/RO_0002411>
PREFIX causally_upstream_of_negative_effect: <http://purl.obolibrary.org/obo/RO_0002305>
PREFIX causally_upstream_of_positive_effect: <http://purl.obolibrary.org/obo/RO_0002304>

<GoCamEntity> EXTRA a {
  a [owl:NamedIndividual] * // rdfs:comment  "Every entity we care about is a named individual";
  contributor: . *;
  date: . *;
  provided_by: . *;
  xref: . *;
  rdfs:label . {0,1};
  exact_match: . *;
  rdfs:comment . *;
} // rdfs:comment  "Default allowable metadata for GO-CAM entities"

<OwlClass> {
  rdf:type [ owl:Class ] {1} ;
}

<BiologicalProcessClass> @<OwlClass> AND {
  rdfs:subClassOf [ GoBiologicalProcess: ] ;
}

##something wrong with this one
# note it effects other shapes that use it
<BiologicalProcess> @<GoCamEntity> AND EXTRA a {
  a @<BiologicalProcessClass> {1};
  part_of: @<BiologicalProcess> {0,1};
} // rdfs:comment  "A biological process"


<MolecularFunctionClass> @<OwlClass> AND {
  rdfs:subClassOf [ GoMolecularFunction: ] ;
}

<MolecularFunction> @<GoCamEntity> AND EXTRA a {
  a @<MolecularFunctionClass> {1};
  enabled_by:  ( @<Protein> OR @<Complex> ) {0,1};
  part_of: @<BiologicalProcess> {0,1};
  occurs_in: @<CellularComponent> {0,1};
  has_output: @<MolecularEntity> *;
  has_input: @<MolecularEntity> *;
  directly_provides_input_for: @<MolecularFunction> *;
  regulates: @<MolecularFunction> *;
  negatively_regulates: @<MolecularFunction> *;
  positively_regulates: @<MolecularFunction> *;
  directly_regulates: @<MolecularFunction> *;
  directly_negatively_regulates: @<MolecularFunction> *;
  directly_positively_regulates: @<MolecularFunction> *;
  causally_upstream_of_or_within: ( @<BiologicalProcess> OR @<MolecularFunction> ) *;
  causally_upstream_of_or_within_negative_effect: @<BiologicalProcess> *;
  causally_upstream_of_or_within_positive_effect: @<BiologicalProcess> *;
  causally_upstream_of: @<BiologicalProcess> *;
  causally_upstream_of_negative_effect: @<BiologicalProcess> *;
  causally_upstream_of_positive_effect: @<BiologicalProcess> *;
# adding the following seems to break both the js and java shex implementations
# for: http://noctua-dev.berkeleybop.org/download/gomodel:R-HSA-156582/owl
#   directly_positively_regulates: @<MolecularFunction> *;
  happens_during: @<BiologicalPhase> *;
} // rdfs:comment  "A molecular function"

<MacromolecularMachine> ( @<Protein> OR @<Complex> ) AND {}

<BiologicalPhase> @<GoCamEntity> AND {
   bl:category [GoBiologicalPhase:]  ;
}// rdfs:comment  "an biological phase"

<AnatomicalEntity> @<GoCamEntity> AND {
}// rdfs:comment  "an anatomical entity"

<CellularComponentClass> @<OwlClass> AND {
  rdfs:subClassOf [ GoCellularComponent: ];
}
<CellularComponent>  @<AnatomicalEntity> AND EXTRA a {
  a @<CellularComponentClass> {1};
   part_of: @<CellularComponent> {0,1};
   part_of: @<Cell> {0,1};
# allow direct pass-through for single-cell organisms"
   part_of: @<Organism> {0,1};
} // rdfs:comment  "a cellular component"

<Cell> @<AnatomicalEntity> AND {
    part_of: @<GrossAnatomicalEntity> {0,1};
} // rdfs:comment  "a cell type"


<GrossAnatomicalEntity>  @<AnatomicalEntity> AND {
   part_of: @<Organism> {0,1};
} // rdfs:comment  "an anatomical entity"

<Organism> {
} // rdfs:comment  "an organism"

<Complex> @<MolecularEntity> AND {
   located_in: @<CellularComponent> {0,1};
}// rdfs:comment  "a protein complex"

<MolecularEntity>  EXTRA bl:category {
}// rdfs:comment  "a molecular entity (a gene product, chemical, or complex typically)"

<Gene> @<MolecularEntity> AND {
   located_in: @<CellularComponent> {0,1};
}// rdfs:comment  "a gene (a piece of DNA with a purpose)"

<ProteinClass> @<OwlClass> AND {
  rdfs:subClassOf [ GoProtein: ];
}
<Protein> @<MolecularEntity> AND EXTRA a {
   a @<ProteinClass> ;
   located_in: @<CellularComponent> {0,1};
}// rdfs:comment  "a protein"

<ChemicalEntity> EXTRA bl:category{
}// rdfs:comment  "a chemical entity"

<EvidenceClass> @<OwlClass> AND {
  rdfs:subClassOf [ GoEvidence: ] ;
}

<Evidence> @<GoCamEntity> AND EXTRA a  {
  a @<EvidenceClass> *;   
}// rdfs:comment  "A kind of evidence"

#<BL_UNTYPED> {
#   bl:category . {0}
#   // rdfs:comment  "has no type tag inside" ;
#} // rdfs:comment  "has no type tag full rule"

#<BL_TYPED> {
#   bl:category . {1}
#} // rdfs:comment  "has exactly one type tag"

#<BL_MULTI_TYPED> {
#   bl:category . {2,}
#} // rdfs:comment  "has multiple type tags"
